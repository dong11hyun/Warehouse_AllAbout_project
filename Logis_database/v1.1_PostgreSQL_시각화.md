### (PostgreSQL) 대용량 데이터베이스 정규화 vs 비정규화 성능 최적화
#####  Tech Stack & Environment
- Database PostgreSQL 18 (Monitoring: pgAdmin 4 Dashboard)

##### 성능 테스트 및 지표 변화 (Dashboard Monitoring)

##### Dashboard 에 나오는 지표

- Database sessions
→ 현재 DB에 연결된 세션 수와 실제로 일하는 세션 상태를 보여주는 지표

- Transactions per second (TPS)
→ DB가 초당 처리하는 트랜잭션 처리량 지표

- Tuples in
→ INSERT·UPDATE·DELETE로 DB에 실제로 변경된 행(row) 수

- Tuples out
→ 쿼리 수행 중 읽은 행과 결과로 반환된 행(Returned) 수를 나타내는 지표

- Block I/O
→ 데이터를 디스크에서 읽었는지(Reads) 메모리 캐시에서 읽었는지(Hits)를 보여주는 지표


<img src="/Logis_database/images/postgre_dash_nor.png" alt="postgre_dashboard" width="600"/>

**정규화 모델**
- **📊 Dashboard**: 
  - `TPS (Transactions Per Second)` 6 / 그래프가 수직 상승 (처리량 극대화)
  - `Tuples out` 200M / 수치 폭발 (비효율적 I/O)
  - `Active Sessions`가 줄어들지 않음, 계속 'Active' 상태로 누적
  - `Block I/O` 2M / 수치 폭발

---

<img src="/Logis_database/images/postgre_dash_nor2.png" alt="postgre_dashboard" width="600"/>

**인덱스 최적화 (Index Tuning)**
- **📊 Dashboard**: 
  - `TPS (Transactions Per Second)` 8 / 순간적인 tps수치 풀스캔보다 더 증가
  - `Tuples out` 1.5k / 풀스캔 대비 대폭 감소
  - 하지만 대량 조회 시 여전히 Index Scan에 의한 CPU 부하 존재.
  - `Block I/O` 2k / 풀스캔 대비 대폭 감소

---

  <img src="/Logis_database/images/postgre_dash_denor.png" alt="postgre_dashboard" width="600"/>

**비정규화 적용 (Solution)**
- **📊 Dashboard**: 
  - `TPS (Transactions Per Second)` 6 / 그래프가 수직 상승 (처리량 순간 많아졌다가 사라짐)
  - `Tuples out` 1k미만 / 실제 조회된 행의 개수가 많지 않음 (낭비되는 읽기 최소화)
  - `Block I/O` 350 / 실행될 때만 소폭 상승 후 종료 

---

##### 5. 트레이드오프 및 결론

